!function(){"use strict";function e(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];for(var i=void 0,r=[];o.length;)Array.isArray(i=o.shift())?i.map(function(e){return o.push(e)}):null!=i&&"boolean"!=typeof i&&("number"==typeof i&&(i+=""),r.push(i));return"string"==typeof e?{type:e,props:t||{},children:r}:e(t||{},r)}function t(e,t){var n={};for(var o in e)n[o]=e[o];for(var a in t)n[a]=t[a];return n}function n(e,n,i,l){return function e(n,i,l,u,h,p){if(null==l)i=n.insertBefore(a(u,h),i);else if(null!=u.type&&u.type===l.type){H=i,A=l.props,W=u.props,Object.keys(t(A,W)).forEach(function(e){var t=W[e],n="value"===e||"checked"===e?H[e]:A[e];t!==n&&o(H,e,t,n)}),h=h||"svg"===u.type;for(var c=u.children.length,d=l.children.length,y={},f=[],v={},m=0;m<d;){var g=f[m]=i.childNodes[m],b=l.children[m],k=r(b);null!=k&&(y[k]=[g,b]),m++}for(var w=0,x=0;x<c;){var C=f[w],O=l.children[w],S=u.children[x],N=r(O);if(v[N])w++;else{var M=r(S),D=y[M]||[];null==M?(null==N&&(e(i,C,O,S,h),x++),w++):(N===M?e(i,D[0],D[1],S,h)&&w++:D[0]?i.insertBefore(D[0],C)&&e(i,D[0],D[1],S,h):e(i,C,null,S,h),v[M]=S,x++)}}for(;w<d;){var E=l.children[w],P=r(E);null==P&&s(i,f[w]),w++}Object.keys(y).forEach(function(e){var t=y[e],n=t[1];v[n.props.key]||s(i,t[0])})}else i&&u!==i.nodeValue&&("string"==typeof u&&"string"==typeof l?i.nodeValue=u:(i=n.insertBefore(a(u,h),p=i),s(n,p,l.data)));var H,A,W;return i}(l||document.body,i,e,n)}function o(e,n,o,a){if("key"===n);else if("style"===n&&"string"!=typeof o)for(var i in t(a,o=o||{}))e.style[i]=o[i]+""||"";else 0===o&&(o+=""),"className"===n&&(n="class"),/^on.*$/.test(n)&&(n=n.toLowerCase()),"http://www.w3.org/2000/svg"!==e.namespaceURI&&(e[n]=o),"function"!=typeof o&&(o?"xlink-href"===n?(e.setAttributeNS("http://www.w3.org/1999/xlink","href",o),e.setAttribute("href",o)):e.setAttribute(n,o):e.removeAttribute(n))}function a(e,t){return"string"==typeof e?document.createTextNode(e):(n=e,r=(i=(i=t)||"svg"===n.type)?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),Object.keys(n.props).forEach(function(e){return o(r,e,n.props[e])}),n.children.map(function(e){return r.appendChild(a(e,i))}),r);var n,i,r}function r(e){if(e&&e.props)return e.props.key}var s=function(e,t){return e.removeChild(t)};var l=function(e,t){Object.keys(t).forEach(function(n){t.hasOwnProperty(n)&&Object.defineProperty(e,n,{value:t[n],writable:!0,enumerable:!1,configurable:!0})})},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=(function(){function e(e){this.value=e}function t(t){var n,o;function a(n,o){try{var r=t[n](o),s=r.value;s instanceof e?Promise.resolve(s.value).then(function(e){a("next",e)},function(e){a("throw",e)}):i(r.done?"return":"normal",r.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?a(n.key,n.arg):o=null}this._invoke=function(e,t){return new Promise(function(i,r){var s={key:e,arg:t,resolve:i,reject:r,next:null};o?o=o.next=s:(n=o=s,a(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)},f=(new Date).getTime(),v=function(){function e(t){h(this,e),t||(t={}),this.selector=t.container||t.root||"body",t.render&&(this.render=t.render),t.state&&(this.state=t.state),this.oldNode=null,this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,t.beforeCreateComponent&&(this.beforeCreateComponent=t.beforeCreateComponent),(t.componentWillMount||this.componentWillMount)&&(this.beforeCreateComponent=t.componentWillMount||this.componentWillMount),t.componentWasCreated&&(this.componentWasCreated=t.componentWasCreated),(t.componentDidMount||this.componentDidMount)&&(this.componentWasCreated=t.componentDidMount||this.componentDidMount),t.componentWillUpdate&&(this.componentWillUpdate=t.componentWillUpdate),t.componentDidUpdate&&(this.componentDidUpdate=t.componentDidUpdate),t.componentWillUnmount&&(this.componentWillUnmount=t.componentWillUnmount)}return p(e,[{key:"setState",value:function(e,t){if("function"==typeof e){var n=e.call(this,this.state);"function"!=typeof n&&n&&this.setState(n)}if(Array.isArray(this.state)){var o=this.state;t||0===t?"object"===u(o[t])?(l(o[t],e),this.state=o):(o[t]=e,this.state=o):this.state=o}else if("object"===u(this.state)){var a=this.state;l(a,e),this.state=a}else this.state=e}},{key:"update",value:function(e){if(this.render&&(this.componentShouldUpdate||!this.mounted)){var t=this.state;!0!==e&&e&&(t=e),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var o=this.render,a=this.render(t),i=void 0;if(a&&a.props&&a.props.id)try{i=this.container.querySelector("#"+a.props.id)}catch(e){}if(i&&!this.mounted&&i.parentNode.removeChild(i),this.element=n(this.oldNode,this.oldNode=this.render(t),this.element,this.container),!(this.mounted&&this.oldNode&&r(t)))return this.beforeCreateComponent&&this.beforeCreateComponent(this),this.componentWasCreated&&this.componentWasCreated(this),void(this.mounted=!0);this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&r(t)&&this.componentDidUpdate(this)}function r(e){try{return JSON.stringify(this.oldNode)!==JSON.stringify(o(e))}catch(e){return!0}}}},{key:"unmount",value:function(){var e=this;if(this.element){this.componentWillUnmount&&this.componentWillUnmount(this),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mouseleave","select","input","change","keydown","keypress","keyup","submit"].map(function(t){e.element.removeEventListener(t,e)}),this.container.removeChild(this.element),this.container=void 0;for(var t in this)delete this[t];delete this.state,this.update=void 0,this.unmount=void 0}}},{key:"state",set:function(e){var t=this;this[f]=e,d(function(){return t.update()})},get:function(){return this[f]}}]),e}();window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),n=void 0,o=this;do{for(n=t.length;--n>=0&&t.item(n)!==o;);}while(n<0&&(o=o.parentElement));return o});var m=new v({container:"header",render:function(t){return e("nav",null,e("i",{className:"fa fa-calculator fa-3x text-white my-auto"}),e("h1",null,"Composi ",t,"!"))}}),g=function(t){return e("div",{className:"mt-md-2",style:{position:"relative"}},e("div",{className:"pr-2 h4",style:{position:"absolute",top:0,right:0}},t.expression),e("div",{className:"display text-right pr-2 h3 d-md-none d-sm-block pt-5"},t.value),e("div",{className:"display text-right pr-2 h1 d-none d-lg-none d-md-block pt-4"},t.value),e("div",{className:"display text-right pr-2 display-4 d-none d-lg-block pt-4"},t.value))},b=function(t){var n=function(e){t.onDigit(e.target.value)};return e("div",{className:"keypad"},e("div",{className:"keypad-row"},e("button",{className:"btn keypad-secondary-btn",value:"clear-all",onClick:t.onClearAll},"CE"),e("button",{className:"btn keypad-secondary-btn",value:"clear",onClick:t.onClear},"C"),e("button",{className:"btn keypad-secondary-btn",value:"backspace",onClick:t.onDelete},e("i",{className:"fa fa-caret-left fa-lg"})),e("button",{className:"btn keypad-secondary-btn",value:"/",onClick:t.onDivide},"÷")),e("div",{className:"keypad-row"},e("button",{className:"btn keypad-primary-btn",value:"7",onClick:n},"7"),e("button",{className:"btn keypad-primary-btn",value:"8",onClick:n},"8"),e("button",{className:"btn keypad-primary-btn",value:"9",onClick:n},"9"),e("button",{className:"btn keypad-secondary-btn",value:"*",onClick:t.onMultiply},"×")),e("div",{className:"keypad-row"},e("button",{className:"btn keypad-primary-btn",value:"4",onClick:n},"4"),e("button",{className:"btn keypad-primary-btn",value:"5",onClick:n},"5"),e("button",{className:"btn keypad-primary-btn",value:"6",onClick:n},"6"),e("button",{className:"btn keypad-secondary-btn",value:"-",onClick:t.onSubtract},"−")),e("div",{className:"keypad-row"},e("button",{className:"btn keypad-primary-btn",value:"1",onClick:n},"1"),e("button",{className:"btn keypad-primary-btn",value:"2",onClick:n},"2"),e("button",{className:"btn keypad-primary-btn",value:"3",onClick:n},"3"),e("button",{className:"btn keypad-secondary-btn",value:"+",onClick:t.onAdd},"+")),e("div",{className:"keypad-row"},e("button",{className:"btn keypad-secondary-btn",value:"+-",onClick:t.onToggleSign},"±"),e("button",{className:"btn keypad-primary-btn",value:"0",onClick:n},"0"),e("button",{className:"btn keypad-secondary-btn",value:".",onClick:t.onDecimalPoint},"."),e("button",{className:"btn keypad-secondary-btn",style:{color:"#4CAF50"},value:"=",onClick:t.onEquals},"=")))},k=function(t){return e("div",{className:"history"},t.history.map(function(n,o){return e("div",{className:"history-item",key:o},e("button",{className:"btn btn-block btn-light",onClick:function(){return t.onSelected(o)}},e("div",{className:"p-2 text-right"},e("div",null,n.expression," ="),e("div",{className:"font-weight-bold"},n.result))),e("div",{className:"history-trash",onClick:t.onClearHistory},e("div",{className:"text-center text-danger"},e("i",{className:"fa fa-trash-o fa-2x my-2"}))))}))},w=function(e){this.value=e};w.math={isDegree:!0,acos:function(e){return w.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,t){return e+t},asin:function(e){return w.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return w.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,t){var n=1,o=e-t,a=t;a<o&&(a=o,o=t);for(var i=a+1;i<=e;i++)n*=i;return n/w.math.fact(o)},changeSign:function(e){return-e},cos:function(e){return w.math.isDegree&&(e=w.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,t){return e/t},fact:function(e){if(e%1!=0)return"NAN";for(var t=1,n=2;n<=e;n++)t*=n;return t},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,t){return e%t},mul:function(e,t){return e*t},P:function(e,t){for(var n=1,o=Math.floor(e)-Math.floor(t)+1;o<=Math.floor(e);o++)n*=o;return n},Pi:function(e,t,n){for(var o=1,a=e;a<=t;a++)o*=Number(n.postfixEval({n:a}));return o},pow10x:function(e){for(var t=1;e--;)t*=10;return t},sigma:function(e,t,n){for(var o=0,a=e;a<=t;a++)o+=Number(n.postfixEval({n:a}));return o},sin:function(e){return w.math.isDegree&&(e=w.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,t){return e-t},tan:function(e){return w.math.isDegree&&(e=w.math.toRadian(e)),Math.tan(e)},tanh:function(e){return w.sinha(e)/w.cosha(e)},toRadian:function(e){return e*Math.PI/180}},w.exception=function(e){this.message=e};var C=w;function O(e,t){for(var n=0;n<e.length;n++)e[n]+=t;return e}var S=["sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],N=["sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],M=[C.math.sin,C.math.cos,C.math.tan,"PI","(",")",C.math.P,C.math.C,C.math.asin,C.math.acos,C.math.atan,"7","8","9",Math.floor,C.math.cosh,C.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",C.math.div,C.math.fact,C.math.tanh,C.math.atanh,C.math.mod,"1","2","3",C.math.mul,C.math.sinh,C.math.asinh,"E",C.math.log,"0",".",C.math.add,C.math.sub,",",C.math.sigma,"n",C.math.Pi,Math.pow],D={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},E=[0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],P={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},H={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},A={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},W={},T={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},q={1:!0},U=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function j(e,t,n,o){for(var a=0;a<o;a++)if(e[n+a]!==t[a])return!1;return!0}C.addToken=function(e){for(i=0;i<e.length;i++){x=e[i].token.length;var t=-1;if(x<U.length)for(y=0;y<U[x].length;y++)if(e[i].token===U[x][y]){t=S.indexOf(U[x][y]);break}-1===t?(S.push(e[i].token),E.push(e[i].type),U.length<=e[i].token.length&&(U[e[i].token.length]=[]),U[e[i].token.length].push(e[i].token),M.push(e[i].value),N.push(e[i].show)):(S[t]=e[i].token,E[t]=e[i].type,M[t]=e[i].value,N[t]=e[i].show)}},C.lex=function(e,t){var n,o,a,i,r=[{type:4,value:"(",show:"(",pre:0}],s=[],l=e,u=0,h=P,p=0,c=W,d="";void 0!==t&&C.addToken(t);var y={};for(o=0;o<l.length;o++)if(" "!=l[o]){n="";e:for(a=l.length-o>U.length-2?U.length-1:l.length-o;a>0;a--)for(i=0;i<U[a].length;i++)if(j(l,U[a][i],o,a)){n=U[a][i];break e}if(o+=n.length-1,""===n)throw new C.exception("Can't understand after "+l.slice(o));var f=S.indexOf(n),v=n,m=E[f],g=M[f],b=D[m],k=N[f],w=r[r.length-1];for(x=s.length;x--;)if(0===s[x]&&-1!==[0,2,3,5,9,11,12,13].indexOf(m)){if(!0!==h[m])throw new C.exception(n+" is not allowed after "+d);r.push({value:")",type:5,pre:0,show:")"}),h=H,c=T,O(s,-1).pop()}if(!0!==h[m])throw new C.exception(n+" is not allowed after "+d);if(!0===c[m]&&(m=2,g=C.math.mul,k="&times;",b=3,o-=n.length),y={value:g,type:m,pre:b,show:k},0===m)h=P,c=W,O(s,2).push(2),r.push(y),r.push({value:"(",type:4,pre:0,show:"("});else if(1===m)1===w.type?(w.value+=g,O(s,1)):r.push(y),h=H,c=A;else if(2===m)h=P,c=W,O(s,2),r.push(y);else if(3===m)r.push(y),h=H,c=T;else if(4===m)u+=s.length,s=[],p++,h=P,c=W,r.push(y);else if(5===m){if(!p)throw new C.exception("Closing parenthesis are more than opening one, wait What!!!");for(;u--;)r.push({value:")",type:5,pre:0,show:")"});u=0,p--,h=H,c=T,r.push(y)}else if(6===m){if(w.hasDec)throw new C.exception("Two decimals are not allowed in one number");1!==w.type&&(w={value:0,type:1,pre:0},r.push(w),O(s,-1)),h=q,O(s,1),c=W,w.value+=g,w.hasDec=!0}else 7===m&&(h=H,c=T,O(s,1),r.push(y));8===m?(h=P,c=W,O(s,4).push(4),r.push(y),r.push({value:"(",type:4,pre:0,show:"("})):9===m?(9===w.type?w.value===C.math.add?(w.value=g,w.show=k,O(s,1)):w.value===C.math.sub&&"-"===k&&(w.value=C.math.add,w.show="+",O(s,1)):5!==w.type&&7!==w.type&&1!==w.type&&3!==w.type&&13!==w.type?"-"===v&&(h=P,c=W,O(s,2).push(2),r.push({value:C.math.changeSign,type:0,pre:21,show:"-"}),r.push({value:"(",type:4,pre:0,show:"("})):(r.push(y),O(s,2)),h=P,c=W):10===m?(h=P,c=W,O(s,2),r.push(y)):11===m?(h=P,c=W,r.push(y)):12===m?(h=P,c=W,O(s,6).push(6),r.push(y),r.push({value:"(",type:4,pre:0})):13===m&&(h=H,c=T,r.push(y)),O(s,-1),d=n}for(var x=s.length;x--;)0===s[x]&&(r.push({value:")",show:")",type:5,pre:3}),O(s,-1).pop());if(!0!==h[5])throw new C.exception("complete the expression");for(;p--;)r.push({value:")",show:")",type:5,pre:3});return r.push({type:5,value:")",show:")",pre:0}),new C(r)};var V=C;V.prototype.toPostfix=function(){for(var e,t,n,o,a,i=[],r=[{value:"(",type:4,pre:0}],s=this.value,l=1;l<s.length;l++)if(1===s[l].type||3===s[l].type||13===s[l].type)1===s[l].type&&(s[l].value=Number(s[l].value)),i.push(s[l]);else if(4===s[l].type)r.push(s[l]);else if(5===s[l].type)for(;4!==(t=r.pop()).type;)i.push(t);else if(11===s[l].type){for(;4!==(t=r.pop()).type;)i.push(t);r.push(t)}else{o=(e=s[l]).pre,n=(a=r[r.length-1]).pre;var u="Math.pow"==a.value&&"Math.pow"==e.value;if(o>n)r.push(e);else{for(;n>=o&&!u||u&&o<n;)t=r.pop(),a=r[r.length-1],i.push(t),n=a.pre,u="Math.pow"==e.value&&"Math.pow"==a.value;r.push(e)}}return new V(i)};var I=V;I.prototype.postfixEval=function(e){(e=e||{}).PI=Math.PI,e.E=Math.E;for(var t,n,o,a=[],i=this.value,r=void 0!==e.n,s=0;s<i.length;s++)1===i[s].type?a.push({value:i[s].value,type:1}):3===i[s].type?a.push({value:e[i[s].value],type:1}):0===i[s].type?void 0===a[a.length-1].type?a[a.length-1].value.push(i[s]):a[a.length-1].value=i[s].value(a[a.length-1].value):7===i[s].type?void 0===a[a.length-1].type?a[a.length-1].value.push(i[s]):a[a.length-1].value=i[s].value(a[a.length-1].value):8===i[s].type?(t=a.pop(),n=a.pop(),a.push({type:1,value:i[s].value(n.value,t.value)})):10===i[s].type?(t=a.pop(),void 0===(n=a.pop()).type?(n.value=n.concat(t),n.value.push(i[s]),a.push(n)):void 0===t.type?(t.unshift(n),t.push(i[s]),a.push(t)):a.push({type:1,value:i[s].value(n.value,t.value)})):2===i[s].type||9===i[s].type?(t=a.pop(),void 0===(n=a.pop()).type?(console.log(n),(n=n.concat(t)).push(i[s]),a.push(n)):void 0===t.type?(t.unshift(n),t.push(i[s]),a.push(t)):a.push({type:1,value:i[s].value(n.value,t.value)})):12===i[s].type?(void 0!==(t=a.pop()).type&&(t=[t]),n=a.pop(),o=a.pop(),a.push({type:1,value:i[s].value(o.value,n.value,new I(t))})):13===i[s].type&&(r?a.push({value:e[i[s].value],type:3}):a.push([i[s]]));if(a.length>1)throw new I.exception("Uncaught Syntax error");return a[0].value>1e15?"Infinity":parseFloat(a[0].value.toFixed(15))},I.eval=function(e,t,n){return void 0===t?this.lex(e).toPostfix().postfixEval():void 0===n?void 0!==t.length?this.lex(e,t).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(t):this.lex(e,t).toPostfix().postfixEval(n)};var _=I;_.prototype.formulaEval=function(){for(var e,t,n,o=[],a=this.value,i=0;i<a.length;i++)1===a[i].type||3===a[i].type?o.push({value:3===a[i].type?a[i].show:a[i].value,type:1}):13===a[i].type?o.push({value:a[i].show,type:1}):0===a[i].type?o[o.length-1]={value:a[i].show+("-"!=a[i].show?"(":"")+o[o.length-1].value+("-"!=a[i].show?")":""),type:0}:7===a[i].type?o[o.length-1]={value:(1!=o[o.length-1].type?"(":"")+o[o.length-1].value+(1!=o[o.length-1].type?")":"")+a[i].show,type:7}:10===a[i].type?(e=o.pop(),t=o.pop(),"P"===a[i].show||"C"===a[i].show?o.push({value:"<sup>"+t.value+"</sup>"+a[i].show+"<sub>"+e.value+"</sub>",type:10}):o.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+"<sup>"+e.value+"</sup>",type:1})):2===a[i].type||9===a[i].type?(e=o.pop(),t=o.pop(),o.push({value:(1!=t.type?"(":"")+t.value+(1!=t.type?")":"")+a[i].show+(1!=e.type?"(":"")+e.value+(1!=e.type?")":""),type:a[i].type})):12===a[i].type&&(e=o.pop(),t=o.pop(),n=o.pop(),o.push({value:a[i].show+"("+n.value+","+t.value+","+e.value+")",type:12}));return o[0].value};var R=_,F="",B=[],J=[],L="",z=function(t){return e("div",{className:"control-panel my-2 mx-1"},e("button",{className:"btn btn-block text-secondary",disabled:!t.anyHistory,onClick:t.onToggleHistory},e("i",{className:"fa fa-history fa-2x"})))},$=new(function(){function e(){h(this,e),J=[],B=[],F="",L=""}return p(e,[{key:"inputDigit",value:function(e){if(isNaN(e))throw Error("Only numeric input is allowed");""!==L&&(L="",F=""),F+=e}},{key:"inputDecimal",value:function(){""!==L&&(L="",F=""),F.indexOf(".")>=0||(F+=""===F?"0.":".")}},{key:"clear",value:function(){F="",B=[],L=""}},{key:"clearAll",value:function(){F="",B=[],L="",J=[]}},{key:"clearHistory",value:function(){J=[]}},{key:"delete",value:function(){""!==F&&(F=F.substring(0,F.length-1))}},{key:"add",value:function(){""!==F&&(B.push(F),B.push("+"),F="")}},{key:"subtract",value:function(){""!==F&&(B.push(F),B.push("-"),F="")}},{key:"multiply",value:function(){""!==F&&(B.push(F),B.push("*"),F="")}},{key:"divide",value:function(){""!==F&&(B.push(F),B.push("/"),F="")}},{key:"equals",value:function(){if(""!==F){B.push(F);var e=B.join(" ");L=R.eval(e),F=L.toString(),J.splice(0,0,{expression:e,result:L}),B=[]}}},{key:"loadHistory",value:function(e){F=J[e].result.toString()}},{key:"toggleSign",value:function(){F=(-1*parseFloat(F)).toString()}},{key:"getValue",value:function(){return F}},{key:"getExpression",value:function(){return B.join(" ")}},{key:"getHistory",value:function(){return J}},{key:"getResult",value:function(){return L}}]),e}()),G=function(t){function n(e){h(this,n);var t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={expression:"",value:"",history:[],showHistory:!1},t.handleOnDigit=t.handleOnDigit.bind(t),t.handleOnClear=t.handleOnClear.bind(t),t.handleOnClearAll=t.handleOnClearAll.bind(t),t.handleOnDelete=t.handleOnDelete.bind(t),t.handleOnAdd=t.handleOnAdd.bind(t),t.handleOnSubtract=t.handleOnSubtract.bind(t),t.handleOnDivide=t.handleOnDivide.bind(t),t.handleOnMultiply=t.handleOnMultiply.bind(t),t.handleOnDecimalPoint=t.handleOnDecimalPoint.bind(t),t.handleOnEquals=t.handleOnEquals.bind(t),t.handleOnToggleSign=t.handleOnToggleSign.bind(t),t.handleOnHistorySelected=t.handleOnHistorySelected.bind(t),t.handleOnToggleHistory=t.handleOnToggleHistory.bind(t),t.handleOnClearHistory=t.handleOnClearHistory.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,v),p(n,[{key:"handleOnAdd",value:function(){$.add(),this.setState(function(){return{expression:$.getExpression(),value:$.getValue().toString()}})}},{key:"handleOnClear",value:function(){$.clear(),this.setState(function(){return{expression:$.getExpression(),value:$.getValue().toString()}})}},{key:"handleOnClearAll",value:function(){$.clearAll(),this.setState(function(){return{expression:$.getExpression(),history:$.getHistory(),value:$.getValue().toString()}})}},{key:"handleOnClearHistory",value:function(){$.clearHistory(),this.setState(function(){return{history:$.getHistory(),showHistory:!1}})}},{key:"handleOnDecimalPoint",value:function(){$.inputDecimal(),this.setState(function(){return{expression:$.getExpression(),value:$.getValue().toString()}})}},{key:"handleOnDelete",value:function(){$.delete(),this.setState(function(){return{value:$.getValue().toString()}})}},{key:"handleOnDigit",value:function(e){$.inputDigit(e),this.setState(function(){return{value:$.getValue()}})}},{key:"handleOnDivide",value:function(){$.divide(),this.setState(function(){return{expression:$.getExpression(),value:$.getValue().toString()}})}},{key:"handleOnEquals",value:function(){$.equals(),console.log($.getHistory()),this.setState(function(){return{expression:$.getExpression(),value:$.getResult().toString(),history:$.getHistory()}})}},{key:"handleOnHistorySelected",value:function(e){$.loadHistory(e),this.setState(function(t){return{expression:t.history[e].expression,value:$.getValue().toString()}})}},{key:"handleOnMultiply",value:function(){$.multiply(),this.setState(function(){return{expression:$.getExpression(),value:$.getValue().toString()}})}},{key:"handleOnSubtract",value:function(){$.subtract(),this.setState(function(){return{expression:$.getExpression(),value:$.getValue().toString()}})}},{key:"handleOnToggleHistory",value:function(){this.setState(function(e){return{showHistory:!e.showHistory}})}},{key:"handleOnToggleSign",value:function(){$.toggleSign(),this.setState(function(){return{value:$.getValue().toString()}})}},{key:"render",value:function(){return e("div",{className:"row"},e("div",{className:"calculator col-md-5 mx-auto"},e(g,{value:this.state.value,expression:this.state.expression}),e(z,{anyHistory:this.state.history.length>0,onToggleHistory:this.handleOnToggleHistory}),!this.state.showHistory&&e(b,{onDigit:this.handleOnDigit,onAdd:this.handleOnAdd,onSubtract:this.handleOnSubtract,onDivide:this.handleOnDivide,onMultiply:this.handleOnMultiply,onDecimalPoint:this.handleOnDecimalPoint,onEquals:this.handleOnEquals,onClear:this.handleOnClear,onClearAll:this.handleOnClearAll,onDelete:this.handleOnDelete,onToggleSign:this.handleOnToggleSign}),this.state.showHistory&&e(k,{history:this.state.history,onClearHistory:this.handleOnClearHistory,onSelected:this.handleOnHistorySelected})))}}]),n}();m.state="Calculator",new G({container:"section"})}();
//# sourceMappingURL=app.js.map

{"version":3,"file":"app.js","sources":["../node_modules/composi/lib/h.js","../node_modules/composi/lib/patch.js","../node_modules/composi/lib/mixin.js","../node_modules/composi/lib/component.js","../dev/components/title.js","../dev/components/calculator/display.js","../dev/components/calculator/keypad.js","../dev/components/calculator/history.js","../node_modules/math-expression-evaluator/src/math_function.js","../node_modules/math-expression-evaluator/src/lexer.js","../node_modules/math-expression-evaluator/src/postfix.js","../node_modules/math-expression-evaluator/src/postfix_evaluator.js","../node_modules/math-expression-evaluator/src/formula_evaluator.js","../dev/components/calculator/calculatorEngine.js","../dev/components/calculator/controlPanel.js","../dev/components/calculator/calculator.js","../dev/app.js"],"sourcesContent":["/**\n * Hyperscript function. Enables definition of HTML/SVG using functions.\n * @param {string} type The name of the HTML or SVG tag to create.\n * @param {object} props And object of property/value pairs.\n * @param {string, number, boolean, any[]} children Any child elements.\n */\nexport function h(type, props, ...args) {\n  let node\n  const children = []\n\n  // Go thru args from front to back.\n  while (args.length) {\n    // If child is array, process.\n    if (Array.isArray((node = args.shift()))) {\n      node.map(item => args.push(item))\n    // Else check if child is string or number.\n    } else if (node != null && typeof node !== 'boolean') {\n      typeof node === \"number\" ? node = node + '' : node\n      children.push(node)\n    }\n  }\n  \n  return typeof type === \"string\" \n    ? {type, props: props || {}, children } \n    : type(props || {}, children)\n}\n","/**\n * A function to merge two objects together. The properties of the second object will overwrite any matching properties in the first object.\n * @param {Object} obj1 The first object to merge.\n * @param {Object} obj2 The second object to merge.\n */\nfunction mixin(obj1, obj2) {\n  const result = {}\n  for (let i in obj1) {\n    result[i] = obj1[i]\n  }\n  for (let i in obj2) {\n    result[i] = obj2[i]\n  }\n  return result\n}\n\n/**\n * @constructor \n * @param {node} oldNode Original node or null.\n * @param {node} newNode New node.\n * @param {node} element The component root element.\n * @param {node} container The container element in which component is rendered.\n */\nexport function patch(oldNode, newNode, element, container) {\n  return diffAndPatch(container || document.body, element, oldNode, newNode)\n}\n\n/**\n * Patch functions:\n * setProps \n * createNode\n * createElement\n * getKey\n * updateElement\n * removeElement\n * diffAndPatch\n */\n\n/**\n * Function to set properties and attributes on element.\n * @param {node} element \n * @param {string} name \n * @param {string|number|boolean} value \n * @param {string|number|boolean} oldValue \n */\nfunction setProps(element, name, value, oldValue) {\n  if (name === 'key') {\n  } else if (name === 'style' && typeof value !== 'string') {\n    for (let name in mixin(oldValue, (value = value || {}))) {\n      element.style[name] = value[name] + \"\" || ''\n    }\n  } else {\n    if (value === 0) value = value + \"\"\n    // Handle cases where 'className' is used:\n    if (name === 'className') name = 'class'\n    if (/^on.*$/.test(name)) name = name.toLowerCase()\n    // Cannot set SVG properties this way, so test:\n    if (element.namespaceURI !== 'http://www.w3.org/2000/svg') element[name] = value\n\n    // In case of inline events, value would be function.\n    // This avoids resetting them if they were set above as a property.\n    if (typeof value !== 'function') {\n      if (!!value) {\n        // Support SVG 'xlink:href' property:\n        if (name === 'xlink-href') {\n          element.setAttributeNS('http://www.w3.org/1999/xlink', 'href', value)\n          element.setAttribute('href', value)\n        } else {\n          element.setAttribute(name, value)\n        }\n      } else {\n        element.removeAttribute(name)\n      }\n    }\n  }\n}\n\n/**\n * Function to create an HTML or SVG node.\n * @param {node} node node A node to create.\n * @param {svg} svg Whether the node is SVG or not.\n */\nfunction createNode(node, svg) {\n  const element = (svg = svg || node.type === \"svg\")\n  ? document.createElementNS(\"http://www.w3.org/2000/svg\", node.type)\n  : document.createElement(node.type)\n\n  Object.keys(node.props).forEach(key => setProps(element, key, node.props[key]))\n  node.children.map(child => element.appendChild(createElement(child, svg)))\n  return element\n}\n\n/**\n * Function to convert hyperscript/JSX into DOM nodes.\n * @param {jsx|hyperscript} node A node to create.\n * @param {svg} svg Whether the node is SVG or not.\n */\nfunction createElement(node, svg) {\n  return typeof node === \"string\" ? document.createTextNode(node) : createNode(node, svg)\n}\n\n/**\n * Function to get a node's key.\n * @param {node} node \n */\nfunction getKey(node) {\n  if (node && node.props) {\n    return node.props.key\n  }\n}\n\n/**\n * Update an element with new values for properties and/or children.\n * @param {Element} element \n * @param {node} oldProps \n * @param {object} props \n */\nfunction updateElement(element, oldProps, props) {\n  Object.keys(mixin(oldProps, props)).forEach(key => {\n    let value = props[key]\n    let oldValue = key === \"value\" || key === \"checked\" ? element[key] : oldProps[key]\n\n    if (value !== oldValue) setProps(element, key, value, oldValue)\n  })\n}\n\n/**\n * Function to remove element from DOM.\n * @param {node} container The container of the element to remove.\n * @param {node} element The element to remove.\n */\nconst removeElement = (container, element) => container.removeChild(element)\n\n/**\n * Function to patch DOM. Diffs virtual nodes, then patches the DOM.\n * @param {node} container \n * @param {node} element \n * @param {node} oldNode \n * @param {node} newNode \n * @param {boolean} svg \n * @param {node} nextSibling \n */\nfunction diffAndPatch(container, element, oldNode, newNode, svg, nextSibling) {\n  // There is no oldNode, so this is first render.\n  if (oldNode == null) {\n    element = container.insertBefore(createElement(newNode, svg), element)\n  // There's an oldNode, so patch.\n  } else if (newNode.type != null && newNode.type === oldNode.type) {\n    updateElement(element, oldNode.props, newNode.props)\n\n    svg = svg || newNode.type === \"svg\"\n    const len = newNode.children.length\n    let oldLen = oldNode.children.length\n    let oldKeyed = {}\n    let oldElements = []\n    let keyed = {}\n\n    let k = 0\n    while (k < oldLen) {\n      let oldElement = (oldElements[k] = element.childNodes[k])\n      let oldChild = oldNode.children[k]\n      let oldKey = getKey(oldChild)\n      if (null != oldKey) oldKeyed[oldKey] = [oldElement, oldChild]\n      k++\n    }\n\n    let i = 0, j = 0\n    while (j < len) {\n      let oldElement = oldElements[i]\n      let oldChild = oldNode.children[i]\n      let newChild = newNode.children[j]\n      let oldKey = getKey(oldChild)\n      if (keyed[oldKey]) {\n        i++\n        continue\n      }\n      \n      let newKey = getKey(newChild)\n      let keyedNode = oldKeyed[newKey] || []\n      if (null == newKey) {\n        if (null == oldKey) {\n          diffAndPatch(element, oldElement, oldChild, newChild, svg)\n          j++\n        }\n        i++\n      } else {\n        oldKey === newKey ? diffAndPatch(element, keyedNode[0], keyedNode[1], newChild, svg) && i++ :\n        keyedNode[0] ? element.insertBefore(keyedNode[0], oldElement) && diffAndPatch(element, keyedNode[0], keyedNode[1], newChild, svg) : diffAndPatch(element, oldElement, null, newChild, svg)\n        \n        keyed[newKey] = newChild\n        j++\n      }\n    }\n\n    while (i < oldLen) {\n      let oldChild = oldNode.children[i]\n      let oldKey = getKey(oldChild)\n      if (null == oldKey) removeElement(element, oldElements[i])\n      i++\n    }\n\n    Object.keys(oldKeyed).forEach(key => {\n      let keyedNode = oldKeyed[key]\n      let reusableNode = keyedNode[1]\n      if (!keyed[reusableNode.props.key]) {\n        removeElement(element, keyedNode[0])\n      }\n    })\n  } else if (element && newNode !== element.nodeValue) {\n    if (typeof newNode === \"string\" && typeof oldNode === \"string\") {\n      element.nodeValue = newNode\n    } else {\n      element = container.insertBefore(\n        createElement(newNode, svg),\n        (nextSibling = element)\n      )\n      removeElement(container, nextSibling, oldNode.data)\n    }\n  }\n  return element\n}\n","/**\n * A mixin function used for updating component state.\n * @param {object} obj1 An object as the target.\n * @param {object} obj2 An object of properties to target.\n */\nexport const mixin = (obj1, obj2) => {\n  Object.keys(obj2).forEach(p => {\n    if (obj2.hasOwnProperty(p)) {\n      Object.defineProperty(obj1, p, {\n        value: obj2[p],\n        writable: true,\n        enumerable: false,\n        configurable: true\n      })\n    }\n  })\n}\n","import {h} from './h'\nimport {patch} from './patch'\nimport {mixin} from './mixin'\n\nvar rAF = window.requestAnimationFrame\n  || window.webkitRequestAnimationFrame\n  || window.mozRequestAnimationFrame\n  || window.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16) }\n\n/**\n * @type {object} dataStore A pseudo-private property using Date object to store the component's state.\n */\nconst dataStore = new Date().getTime()\n\n/**\n * @class Class to create a component\n */\nexport class Component {\n  /**\n   * Constructor for Component class.\n   * @typedef {object} props An object of property/values to configure the class instance.\n   * @property {string|element} props.container The container element in which to render the component.\n   * @property {state} [props.state] The state object of the component. This can be of type boolean, string, number, object or array.\n   * @property {function} props.render A function that returns nodes to render to the DOM.\n   */\n  constructor(props) {\n    /** @type {props} */\n    if (!props) props = {}\n    this.selector = props.container || props.root ||  'body'\n    \n    if (props.render) {\n      this.render = props.render\n    }\n    \n    if (props.state) {\n      this.state = props.state\n    }\n\n    this.oldNode = null\n    if (this.selector) {\n      this.container = document.querySelector(this.selector)\n    }\n    this.componentShouldUpdate = true\n    \n    this.mounted = false\n    this.element\n    \n    /**\n     * Handle lifecycle methods.\n     */\n    if (props.beforeCreateComponent) {\n      this.beforeCreateComponent = props.beforeCreateComponent\n    }\n    // Alias for React lifecycle hook:\n    if (props.componentWillMount || this.componentWillMount) {\n      this.beforeCreateComponent = props.componentWillMount || this.componentWillMount\n    }\n    if (props.componentWasCreated) {\n      this.componentWasCreated = props.componentWasCreated\n    }\n    // Alias for React lifecycle hook:\n    if (props.componentDidMount || this.componentDidMount) {\n      this.componentWasCreated = props.componentDidMount || this.componentDidMount\n    }\n    if (props.componentWillUpdate) {\n      this.componentWillUpdate = props.componentWillUpdate\n    }\n    if (props.componentDidUpdate) {\n      this.componentDidUpdate = props.componentDidUpdate\n    }\n    if (props.componentWillUnmount) {\n      this.componentWillUnmount = props.componentWillUnmount\n    }\n  }\n\n  /**\n   * Define getters and setters for state.\n   */\n  set state(data) {\n    this[dataStore] = data\n    rAF(() => this.update())\n  }\n\n  get state() {\n    return this[dataStore]\n  }\n  \n  /**\n   * Method to set a component's state.\n   * @param {string|number|boolean|object|array} data The data to set.\n   * @param {number} [position] The index of an array whose data you want to set.\n   */\n  setState(data, position) {\n    if (typeof data === 'function') {\n      const state = data.call(this, this.state)\n      if (typeof state !== 'function' && !!state) this.setState(state)\n    }\n    if (Array.isArray(this.state)) {\n      const state = this.state\n      if (position || position === 0) {\n        if (typeof state[position] === 'object') {\n          mixin(state[position], data)\n          this.state = state\n        } else {\n          state[position] = data\n          this.state = state\n        }\n      } else {\n        this.state = state\n      }\n    } else if (typeof this.state === 'object') {\n      const state = this.state\n      mixin(state, data)\n      this.state = state\n    } else {\n      this.state = data\n    }\n  }\n\n  /**\n   * Function to render component after data changes.\n   * If data is passed as argument, it will be used.\n   * Otherwise state will be used.\n   * @param {boolean|number|string|object|array} [data ]\n   * @returns void\n   */\n  update(data) {\n    if (!this.render) return\n\n    // If componentShouldUpdate is set to false, render one time only.\n    // All other updates will be ignored.\n    if (!this.componentShouldUpdate && this.mounted) return\n\n    // If data is 0 or non-boolean, use,\n    // else use component state.\n    let __data  = this.state\n    if (data !== true && data) __data = data\n\n    if (this.container && typeof this.container === 'string') {\n      this.selector = this.container\n      this.container = document.querySelector(this.container)\n    }\n\n    // Check if vnode already exists.\n    // Used for deciding whether to fire lifecycle events.\n    const __oldNode = this.oldNode\n    const __render = this.render\n    function testIfVNodesDiffer(data) {\n      try {\n        if (JSON.stringify(this.oldNode) === JSON.stringify(__render(data))) {\n          return false\n        } else {\n          return true\n        }\n      } catch(err) {\n        return true\n      }\n    }\n    // Create virtual dom and check if component id already exists in document.\n    const vdom = this.render(__data)\n    let elem\n    if (vdom && vdom.props && vdom.props.id) {\n      try {\n        elem = this.container.querySelector(`#${vdom.props.id}`)\n      } catch(err) {}\n    }\n\n    // If component element id already exists in DOM, \n    // remove it before rendering the component.\n    if (elem && !this.mounted) {\n      elem.parentNode.removeChild(elem)\n    }\n\n    // Patch DOM with component update.\n    this.element = patch(\n      this.oldNode,\n      (this.oldNode = this.render(__data)),\n      this.element,\n      this.container\n    )\n    if (this.mounted && this.oldNode && testIfVNodesDiffer(__data)) {\n      this.componentWillUpdate && this.componentWillUpdate(this)\n    } else {\n      this.beforeCreateComponent && this.beforeCreateComponent(this)\n      this.componentWasCreated && this.componentWasCreated(this)\n      this.mounted = true\n      return\n    }\n    this.componentDidUpdate && testIfVNodesDiffer(__data) && this.componentDidUpdate(this)\n  }\n  \n  /**\n   * Method to destroy component.\n   * First unbind events.\n   * Then remove component element from DOM.\n   * Also null out component properties.\n   * @returns void\n   */\n  unmount() {\n    const self = this\n    const eventWhitelist = ['click', 'dblclick', 'mousedown','mouseup', 'mouseover','mouseout', 'mouseleave', 'select', 'input', 'change', 'keydown', 'keypress', 'keyup', 'submit']\n    if (!this.element) return\n    this.componentWillUnmount && this.componentWillUnmount(this)\n    eventWhitelist.map(event => {\n      this.element.removeEventListener(event, this)\n    })\n    this.container.removeChild(this.element)\n    this.container = undefined\n    for (let key in this) {\n      delete this[key]\n    }\n    delete this.state\n    this.update = undefined\n    this.unmount = undefined\n  }\n}\n\n// Polyfill for Element.closest:\nif (window.Element && !Element.prototype.closest) {\n  Element.prototype.closest = \n  function(s) {\n    let matches = (this.document || this.ownerDocument).querySelectorAll(s)\n    let i\n    let el = this\n    do {\n      i = matches.length\n      while (--i >= 0 && matches.item(i) !== el) {}\n    } while ((i < 0) && (el = el.parentElement))\n    return el\n  }\n}\n","import {h, Component} from 'composi'\n\nexport const title = new Component({\n  container: 'header',\n  render: (message) => {\n    return (\n      <nav>\n        <i className=\"fa fa-calculator fa-3x text-white my-auto\"></i>\n        <h1>Composi {message}!</h1>\n      </nav>\n    )\n  }\n})\n","import {h} from 'composi';\n\nconst Display = (props) => (\n  <div className=\"mt-md-2\" style={{position: 'relative'}}>\n    <div className=\"pr-2 h4\" style={{position: 'absolute', top: 0, right: 0}}>{props.expression}</div>\n    <div className=\"display text-right pr-2 h3 d-md-none d-sm-block pt-5\">{props.value}</div>\n    <div className=\"display text-right pr-2 h1 d-none d-lg-none d-md-block pt-4\">{props.value}</div>\n    <div className=\"display text-right pr-2 display-4 d-none d-lg-block pt-4\">{props.value}</div>\n  </div>\n);\n\n\nexport default Display;","import {h} from 'composi';\n\nconst Keypad = (props) => {\n\n  const handleOnDigit = (e) => {\n    props.onDigit(e.target.value);\n  };\n\n  return (\n    <div className=\"keypad\">\n      <div className=\"keypad-row\">\n        <button className=\"btn keypad-secondary-btn\" value=\"clear-all\" onClick={props.onClearAll}>CE</button>\n        <button className=\"btn keypad-secondary-btn\" value=\"clear\" onClick={props.onClear}>C</button>\n        <button className=\"btn keypad-secondary-btn\" value=\"backspace\" onClick={props.onDelete}><i className=\"fa fa-caret-left fa-lg\"></i></button>\n        <button className=\"btn keypad-secondary-btn\" value=\"/\" onClick={props.onDivide}>&divide;</button>\n      </div>\n      <div className=\"keypad-row\">\n        <button className=\"btn keypad-primary-btn\" value=\"7\" onClick={handleOnDigit}>7</button>\n        <button className=\"btn keypad-primary-btn\" value=\"8\" onClick={handleOnDigit}>8</button>\n        <button className=\"btn keypad-primary-btn\" value=\"9\" onClick={handleOnDigit}>9</button>\n        <button className=\"btn keypad-secondary-btn\" value=\"*\" onClick={props.onMultiply}>&times;</button>\n      </div>\n      <div className=\"keypad-row\">\n        <button className=\"btn keypad-primary-btn\" value=\"4\" onClick={handleOnDigit}>4</button>\n        <button className=\"btn keypad-primary-btn\" value=\"5\" onClick={handleOnDigit}>5</button>\n        <button className=\"btn keypad-primary-btn\" value=\"6\" onClick={handleOnDigit}>6</button>\n        <button className=\"btn keypad-secondary-btn\" value=\"-\" onClick={props.onSubtract}>&minus;</button>\n      </div>\n      <div className=\"keypad-row\">\n        <button className=\"btn keypad-primary-btn\" value=\"1\" onClick={handleOnDigit}>1</button>\n        <button className=\"btn keypad-primary-btn\" value=\"2\" onClick={handleOnDigit}>2</button>\n        <button className=\"btn keypad-primary-btn\" value=\"3\" onClick={handleOnDigit}>3</button>\n        <button className=\"btn keypad-secondary-btn\" value=\"+\" onClick={props.onAdd}>&#43;</button>\n      </div>\n      <div className=\"keypad-row\">\n        <button className=\"btn keypad-secondary-btn\" value=\"+-\" onClick={props.onToggleSign}>&plusmn;</button>\n        <button className=\"btn keypad-primary-btn\" value=\"0\" onClick={handleOnDigit}>0</button>\n        <button className=\"btn keypad-secondary-btn\" value=\".\" onClick={props.onDecimalPoint}>.</button>\n        <button className=\"btn keypad-secondary-btn\" style={{color: '#4CAF50'}} value=\"=\" onClick={props.onEquals}>=</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Keypad;","import {h} from 'composi';\n\nconst History = (props) => (\n  <div className=\"history\">\n    {\n      props.history.map((expression, i) => {\n        return (\n          <div className=\"history-item\" key={i}>\n            <button className=\"btn btn-block btn-light\" onClick={() => props.onSelected(i)}>\n              <div className=\"p-2 text-right\">\n                <div>{expression.expression}&nbsp;=</div>\n                <div className=\"font-weight-bold\">{expression.result}</div>\n              </div>\n            </button>\n            <div className=\"history-trash\" onClick={props.onClearHistory}>\n              <div className=\"text-center text-danger\">\n                <i className=\"fa fa-trash-o fa-2x my-2\"></i>\n              </div>              \n            </div>\n          </div>\n        );\n      })                  \n    }\n  </div>\n);\n\nexport default History;","\tvar Mexp=function(parsed){\r\n\t\tthis.value=parsed;\r\n\r\n\t};\r\n\r\n\tMexp.math={\r\n\t\tisDegree:true, //mode of calculator\r\n\t\tacos:function(x){\r\n\t\t\treturn (Mexp.math.isDegree?180/Math.PI*Math.acos(x):Math.acos(x));\r\n\t\t},\r\n\t\tadd:function(a,b){\r\n\t\t\treturn a+b;\r\n\t\t},\r\n\t\tasin:function(x){\r\n\t\t\treturn (Mexp.math.isDegree?180/Math.PI*Math.asin(x):Math.asin(x));\r\n\t\t},\r\n\t\tatan:function(x){\r\n\t\t\treturn (Mexp.math.isDegree?180/Math.PI*Math.atan(x):Math.atan(x));\r\n\t\t},\r\n\t\tacosh:function(x){\r\n\t\t\treturn Math.log(x+Math.sqrt(x*x-1));\r\n\t\t},\r\n\t\tasinh:function(x){\r\n\t\t\treturn Math.log(x+Math.sqrt(x*x+1));\r\n\t\t},\r\n\t\tatanh:function(x){\r\n\t\t\treturn Math.log((1+x)/(1-x));\r\n\t\t},\r\n\t\tC:function(n,r){\r\n\t\t\tvar pro=1,other=n-r,choice=r;\r\n\t\t\tif(choice<other){\r\n\t\t\tchoice=other;\r\n\t\t\tother=r;\r\n\t\t\t}\r\n\t\t\tfor(var i=choice+1;i<=n;i++)\r\n\t\t\t\tpro*=i;\r\n\t\t\treturn pro/Mexp.math.fact(other);\r\n\t\t},\r\n\t\tchangeSign:function(x){\r\n\t\t\treturn -x;\r\n\t\t},\r\n\t\tcos:function(x){\r\n\t\t\tif(Mexp.math.isDegree)x=Mexp.math.toRadian(x);\r\n\t\t\treturn Math.cos(x);\r\n\t\t},\r\n\t\tcosh:function(x){\r\n\t\t\treturn (Math.pow(Math.E,x)+Math.pow(Math.E,-1*x))/2;\r\n\t\t},\r\n\t\tdiv:function(a,b){\r\n\t\treturn a/b;\r\n\t\t},\r\n\t\tfact:function(n) {\r\n\t\tif(n%1!==0)return \"NAN\";\r\n\t\t\tvar pro=1;\r\n\t\t\tfor(var i=2;i<=n;i++)\r\n\t\t\t\tpro*=i;\r\n\t\t\treturn pro;\r\n\t\t},\r\n\t\tinverse:function(x){\r\n\t\t\treturn 1/x;\r\n\t\t},\r\n\t\tlog:function(i){\r\n\t\t\treturn Math.log(i)/Math.log(10);\r\n\t\t},\r\n\t\tmod:function(a,b){\r\n\t\treturn a%b;\r\n\t\t},\r\n\t\tmul:function(a,b){\r\n\t\treturn a*b;\r\n\t\t},\r\n\t\tP:function(n,r){var pro=1;\r\n\t\t\t for(var i=Math.floor(n)-Math.floor(r)+1;i<=Math.floor(n);i++)\r\n\t\t\t\t\tpro*=i;\r\n\t\t\t\t\treturn pro;\r\n\r\n\t\t},\r\n\t\tPi:function(low,high,ex){\r\n\t\t\tvar pro=1;\r\n\t\t\tfor(var i=low;i<=high;i++){\r\n\t\t\t\tpro*=Number(ex.postfixEval({n:i}));\r\n\t\t\t}\r\n\t\t\treturn pro;\r\n\t\t},\r\n\t\tpow10x:function(e){\r\n\t\t\tvar x=1;\r\n\t\t\twhile(e--){x*=10;}\r\n\t\t\treturn x;\r\n\t\t},\r\n\t\tsigma:function(low,high,ex){\r\n\t\t\tvar sum=0;\r\n\t\t\tfor(var i=low;i<=high;i++){\r\n\t\t\t\tsum+=Number(ex.postfixEval({n:i}));\r\n\t\t\t}\r\n\t\t\treturn sum;\r\n\t\t},\r\n\t\tsin:function(x){\r\n\t\t\tif(Mexp.math.isDegree)x=Mexp.math.toRadian(x);\r\n\t\t\treturn Math.sin(x);\r\n\t\t},\r\n\t\tsinh:function(x){\r\n\t\t\treturn (Math.pow(Math.E,x)-Math.pow(Math.E,-1*x))/2;\r\n\t\t},\r\n\t\tsub:function(a,b){\r\n\t\treturn a-b;\r\n\t\t},\r\n\t\ttan:function(x){\r\n\t\t\tif(Mexp.math.isDegree)x=Mexp.math.toRadian(x);\r\n\t\t\treturn Math.tan(x);\r\n\t\t},\r\n\t\ttanh:function(x){\r\n\t\t\treturn Mexp.sinha(x)/Mexp.cosha(x);\r\n\t\t},\r\n\t\ttoRadian:function(x){\r\n\t\t\treturn x*Math.PI/180;\r\n\t\t}\r\n\t};\r\n\tMexp.exception=function(message){\r\n\t\tthis.message=message;\r\n\t};\r\n    module.exports=Mexp;","var Mexp=require('./math_function.js');\r\n\tfunction inc(arr,val){\r\n\t\tfor(var i=0;i<arr.length;i++)\r\n\t\t\tarr[i]+=val;\r\n\t\treturn arr;\r\n\t}\r\n\tvar token=['sin','cos','tan','pi','(',')','P','C',\r\n\t\t  'asin','acos','atan','7','8','9','int',\r\n\t\t  'cosh','acosh','ln','^','root','4','5','6','/','!',\r\n\t\t  'tanh','atanh','Mod','1','2','3','*',\r\n\t\t  'sinh','asinh','e','log','0','.','+','-',',','Sigma','n','Pi','pow'];\r\n\tvar show=['sin','cos','tan','&pi;','(',')','P','C',\r\n\t\t'asin','acos','atan','7','8','9','Int',\r\n\t\t'cosh','acosh',' ln','^','root','4','5','6','&divide;','!',\r\n\t\t'tanh','atanh',' Mod ','1','2','3','&times;',\r\n\t\t'sinh','asinh','e',' log','0','.','+','-',',','&Sigma;','n','&Pi;','pow'];\r\n\tvar eva=[Mexp.math.sin,Mexp.math.cos,Mexp.math.tan,'PI','(',')',Mexp.math.P,Mexp.math.C,\r\n\t\tMexp.math.asin,Mexp.math.acos,Mexp.math.atan,'7','8','9',Math.floor,\r\n\t\tMexp.math.cosh,Mexp.math.acosh,Math.log,Math.pow,Math.sqrt,'4','5','6',Mexp.math.div,Mexp.math.fact,\r\n\t\tMexp.math.tanh,Mexp.math.atanh,Mexp.math.mod,'1','2','3',Mexp.math.mul,\r\n\t\tMexp.math.sinh,Mexp.math.asinh,'E',Mexp.math.log,'0','.',Mexp.math.add,Mexp.math.sub,',',Mexp.math.sigma,'n',Mexp.math.Pi,Math.pow];\r\n\tvar preced={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0};\r\n\tvar type=[0,0,0,3,4,5,10,10,\r\n\t\t0,0,0,1,1,1,0,\r\n\t\t0,0,0,10,0,1,1,1,2,7,\r\n\t\t0,0,2,1,1,1,2,\r\n\t\t0,0,3,0,1,6,9,9,11,12,13,12,8];\r\n\t /*\r\n\t0 : function with syntax function_name(Maths_exp)\r\n\t1 : numbers\r\n\t2 : binary operators like * / Mod left associate and same precedence\r\n\t3 : Math constant values like e,pi,Cruncher ans\r\n\t4 : opening bracket\r\n\t5 : closing bracket\r\n\t6 : decimal\r\n\t7 : function with syntax (Math_exp)function_name\r\n\t8: function with syntax function_name(Math_exp1,Math_exp2)\r\n\t9 : binary operator like +,-\r\n\t10: binary operator like P C or ^\r\n\t11: ,\r\n\t12: function with , seperated three parameters\r\n\t13: variable of Sigma function\r\n\t */\r\n\tvar type0={0:true,1:true,3:true,4:true,6:true,8:true,9:true,12:true,13:true},//type2:true,type4:true,type9:true,type11:true,type21:true,type22\r\n\ttype1={0:true,1:true,2:true,3:true,4:true,5:true,6:true,7:true,8:true,9:true,10:true,11:true,12:true,13:true},//type3:true,type5:true,type7:true,type23\r\n\ttype_1={0:true,3:true,4:true,8:true,12:true,13:true},\r\n\tempty={},\r\n\ttype_3={0:true,1:true,3:true,4:true,6:true,8:true,12:true,13:true},//type_5:true,type_7:true,type_23\r\n\ttype6={1:true},\r\n\tnewAr=[[],\r\n\t\t\t[\"1\",\"2\",\"3\",\"7\",\"8\",\"9\",\"4\",\"5\",\"6\",\"+\",\"-\",\"*\",\"/\",\"(\",\")\",\"^\",\"!\",\"P\",\"C\",\"e\",\"0\",\".\",\",\",\"n\"],\r\n\t\t\t[\"pi\",\"ln\",\"Pi\"],\r\n\t\t\t[\"sin\",\"cos\",\"tan\",\"Del\",\"int\",\"Mod\",\"log\",\"pow\"],\r\n\t\t\t[\"asin\",\"acos\",\"atan\",\"cosh\",\"root\",\"tanh\",\"sinh\"],\r\n\t\t\t[\"acosh\",\"atanh\",\"asinh\",\"Sigma\"]];\r\n\tfunction match(str1,str2,i,x){\r\n\t\tfor(var f=0;f<x;f++){\r\n\t\t\tif (str1[i+f]!==str2[f])\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tMexp.addToken=function(tokens){\r\n\t\tfor(i=0;i<tokens.length;i++){\r\n\t\t\tx=tokens[i].token.length;\r\n\t\t\tvar temp=-1;\r\n\r\n\t\t\t//newAr is a specially designed data structure in which 1D array at location one of 2d array has all string with length 1 2 with 2 and so on\r\n\r\n\t\t\tif (x<newAr.length)\t//match to check if token is really huge and not existing\r\n\t\t\t\t\t\t\t\t//if not checked it will break in next line as undefined index\r\n\t\t\t\tfor(y=0;y<newAr[x].length;y++){\r\n\t\t\t\t\tif (tokens[i].token===newAr[x][y]){\r\n\t\t\t\t\t\ttemp=token.indexOf(newAr[x][y]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tif (temp===-1) {\r\n\t\t\t\ttoken.push(tokens[i].token);\r\n\t\t\t\ttype.push(tokens[i].type);\r\n\t\t\t\tif(newAr.length<=tokens[i].token.length)\r\n\t\t\t\t\tnewAr[tokens[i].token.length]=[];\r\n\t\t\t\tnewAr[tokens[i].token.length].push(tokens[i].token);\r\n\t\t\t\teva.push(tokens[i].value);\r\n\t\t\t\tshow.push(tokens[i].show);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttoken[temp]=tokens[i].token;\r\n\t\t\t\ttype[temp]=tokens[i].type;\r\n\t\t\t\teva[temp]=tokens[i].value;\r\n\t\t\t\tshow[temp]=tokens[i].show;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tMexp.lex=function(inp,tokens){\r\n\t\t'use strict';\r\n\t\tvar str=[{type:4,value:\"(\",show:\"(\",pre:0}];\r\n\t\tvar ptc=[];\t//Parenthesis to close at the beginning is after one token\r\n\t\tvar inpStr=inp;\r\n\t\tvar key;\r\n        var pcounter=0;\r\n\t\tvar allowed=type0;\r\n\t\tvar bracToClose=0;\r\n\t\tvar asterick=empty;\r\n\t\tvar prevKey='';\r\n\t\tvar i,x,y;\r\n\t\tif(typeof tokens!==\"undefined\")\r\n\t\t\tMexp.addToken(tokens);\r\n\t\tvar obj={};\r\n\t\tfor(i=0;i<inpStr.length;i++){\r\n\t\t\tif (inpStr[i]==' ') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tkey='';\r\n\t\t\tsec:for(x=(inpStr.length-i>(newAr.length-2)?newAr.length-1:inpStr.length-i);x>0;x--){\r\n\t\t\t\tfor(y=0;y<newAr[x].length;y++){\r\n\t\t\t\t\tif (match(inpStr,newAr[x][y],i,x)){\r\n\t\t\t\t\t\tkey=newAr[x][y];\r\n\t\t\t\t\t\tbreak sec;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti+=key.length-1;\r\n\t\t\tif(key===''){\r\n\t\t\t\tthrow(new Mexp.exception(\"Can't understand after \"+inpStr.slice(i)));\r\n\t\t\t}\r\n\t\t\tvar index=token.indexOf(key);\r\n\t\t\tvar cToken=key;\r\n\t\t\tvar cType=type[index];\r\n\t\t\tvar cEv=eva[index];\r\n\t\t\tvar cPre=preced[cType];\r\n\t\t\tvar\tcShow=show[index];\r\n\t\t\tvar pre=str[str.length-1];\r\n\t\t\tfor(j=ptc.length;j--;){\t//loop over ptc\r\n\t\t\t\tif(ptc[j]===0){\r\n\t\t\t\t\tif([0,2,3,5,9,11,12,13].indexOf(cType)!==-1){\r\n\t\t\t\t\t\tif(allowed[cType]!==true){\r\n\t\t\t\t\t\t\tthrow(new Mexp.exception(key+\" is not allowed after \"+prevKey));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstr.push({value:\")\",type:5,pre:0,show:\")\"});\r\n\t\t\t\t\t\tallowed=type1;\r\n\t\t\t\t\t\tasterick=type_3;\r\n\t\t\t\t\t\tinc(ptc,-1).pop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(allowed[cType]!==true){\r\n\t\t\t\tthrow(new Mexp.exception(key+\" is not allowed after \"+prevKey));\r\n\t\t\t}\r\n\t\t\tif(asterick[cType]===true){\r\n\t\t\t\tcType=2;\r\n\t\t\t\tcEv=Mexp.math.mul;\r\n\t\t\t\tcShow=\"&times;\";\r\n\t\t\t\tcPre=3;\r\n\t\t\t\ti=i-key.length;\r\n\t\t \t}\r\n\t\t\tobj={value:cEv,type:cType,pre:cPre,show:cShow};\r\n\t\t\tif(cType===0){\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tinc(ptc,2).push(2);\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t\tstr.push({value:\"(\",type:4,pre:0,show:\"(\"});\r\n\t\t\t}\r\n\t\t\telse if(cType===1){\r\n\t\t\t\tif(pre.type===1){\r\n\t\t\t\t\tpre.value+=cEv;\r\n\t\t\t\t\tinc(ptc,1);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tstr.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tallowed=type1;\r\n\t\t\t\tasterick=type_1;\r\n\t\t\t}\r\n\t\t\telse if(cType===2){\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tinc(ptc,2);\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\telse if(cType===3){//constant\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t\tallowed=type1;\r\n\t\t\t\tasterick=type_3;\r\n\t\t\t}\r\n\t\t\telse if(cType===4){\r\n                pcounter+=ptc.length;\r\n                ptc=[];\r\n\t\t\t\tbracToClose++;\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\telse if(cType===5){\r\n\t\t\t\tif(!bracToClose){\r\n\t\t\t\t\tthrow(new Mexp.exception(\"Closing parenthesis are more than opening one, wait What!!!\"));\r\n\t\t\t\t}\r\n                while(pcounter--){\t//loop over ptc\r\n    \t\t\t\t\t\tstr.push({value:\")\",type:5,pre:0,show:\")\"});\r\n    \t\t\t}\r\n                pcounter=0;\r\n\t\t\t\tbracToClose--;\r\n\t\t\t\tallowed=type1;\r\n\t\t\t\tasterick=type_3;\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\telse if(cType===6){\r\n\t\t\t\tif(pre.hasDec){\r\n\t\t\t\t\tthrow(new Mexp.exception(\"Two decimals are not allowed in one number\"));\r\n\t\t\t\t}\r\n\t\t\t\tif(pre.type!==1){\r\n\t\t\t\t\tpre={value:0,type:1,pre:0};\t//pre needs to be changed as it will the last value now to be safe in later code\r\n\t\t\t\t\tstr.push(pre);\r\n\t\t\t\t\tinc(ptc,-1);\r\n\t\t\t\t}\r\n\t\t\t\tallowed=type6;\r\n\t\t\t\tinc(ptc,1);\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tpre.value+=cEv;\r\n\t\t\t\tpre.hasDec=true;\r\n\t\t\t}\r\n\t\t\telse if(cType===7){\r\n\t\t\t\tallowed=type1;\r\n\t\t\t\tasterick=type_3;\r\n\t\t\t\tinc(ptc,1);\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\tif(cType===8){\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tinc(ptc,4).push(4);\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t\tstr.push({value:\"(\",type:4,pre:0,show:\"(\"});\r\n\t\t\t}\r\n\t\t\telse if(cType===9){\r\n\t\t\t\tif(pre.type===9){\r\n\t\t\t\t\tif(pre.value===Mexp.math.add){\r\n\t\t\t\t\t\tpre.value=cEv;\r\n\t\t\t\t\t\tpre.show=cShow;\r\n\t\t\t\t\t\tinc(ptc,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(pre.value===Mexp.math.sub&&cShow==='-'){\r\n\t\t\t\t\t\tpre.value=Mexp.math.add;\r\n\t\t\t\t\t\tpre.show='+';\r\n\t\t\t\t\t\tinc(ptc,1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(pre.type!==5&&pre.type!==7&&pre.type!==1&&pre.type!==3&&pre.type!==13){//changesign only when negative is found\r\n\t\t\t\t\tif(cToken==='-'){//do nothing for + token\r\n\t\t\t\t\t\t\t\t\t//don't add with the above if statement as that will run the else statement of parent if on Ctoken +\r\n\t\t\t\t\t\tallowed=type0;\r\n\t\t\t\t\t\tasterick=empty;\r\n\t\t\t\t\t\tinc(ptc,2).push(2);\r\n\t\t\t\t\t\tstr.push({value:Mexp.math.changeSign,type:0,pre:21,show:\"-\"});\r\n\t\t\t\t\t\tstr.push({value:\"(\",type:4,pre:0,show:\"(\"});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tstr.push(obj);\r\n\t\t\t\t\tinc(ptc,2);\r\n\t\t\t\t}\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t}\r\n\t\t\telse if(cType===10){\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tinc(ptc,2);\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\telse if(cType===11){\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\telse if(cType===12){\r\n\t\t\t\tallowed=type0;\r\n\t\t\t\tasterick=empty;\r\n\t\t\t\tinc(ptc,6).push(6);\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t\tstr.push({value:\"(\",type:4,pre:0});\r\n\t\t\t}\r\n\t\t\telse if(cType===13){\r\n\t\t\t\tallowed=type1;\r\n\t\t\t\tasterick=type_3;\r\n\t\t\t\tstr.push(obj);\r\n\t\t\t}\r\n\t\t\tinc(ptc,-1);\r\n\t\t\tprevKey=key;\r\n\t\t}\r\n\t\tfor(var j=ptc.length;j--;){\t//loop over ptc\r\n\t\t\tif(ptc[j]===0){\r\n\r\n\t\t\t\tstr.push({value:\")\",show:\")\",type:5,pre:3});\r\n\t\t\t\tinc(ptc,-1).pop();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (allowed[5]!==true) {\r\n\t\t\tthrow(new Mexp.exception(\"complete the expression\"));\r\n\t\t}\r\n\t\twhile(bracToClose--)\r\n\t\t\tstr.push({value:\")\",show:\")\",type:5,pre:3});\r\n\r\n\t\tstr.push({type:5,value:\")\",show:\")\",pre:0});\r\n//        console.log(str);\r\n\t\treturn new Mexp(str);\r\n\t};\r\n    module.exports=Mexp;\r\n","\r\n    var Mexp=require('./lexer.js');\r\n\r\n\tMexp.prototype.toPostfix = function () {\r\n\t\t'use strict';\r\n\t\tvar post=[],elem,popped,prep,pre,ele;\r\n    \tvar stack=[{value:\"(\",type:4,pre:0}];\r\n\t\tvar arr=this.value;\r\n\t\tfor (var i=1; i < arr.length; i++) {\r\n\t\t\tif(arr[i].type===1||arr[i].type===3||arr[i].type===13){\t//if token is number,constant,or n(which is also a special constant in our case)\r\n\t\t\t\tif(arr[i].type===1)\r\n\t\t\t\t\tarr[i].value=Number(arr[i].value);\r\n\t\t\t\tpost.push(arr[i]);\r\n\t\t\t}\r\n\t\t\telse if(arr[i].type===4){\r\n\t\t\t\tstack.push(arr[i]);\r\n\t\t\t}\r\n\t\t\telse if(arr[i].type===5){\r\n\t\t\t\twhile((popped=stack.pop()).type!==4){\r\n\t\t\t\t\tpost.push(popped);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(arr[i].type===11){\r\n\t\t\t\twhile((popped=stack.pop()).type!==4){\r\n\t\t\t\t\tpost.push(popped);\r\n\t\t\t\t}\r\n\t\t\t\tstack.push(popped);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\telem=arr[i];\r\n\t\t\t\tpre=elem.pre;\r\n\t\t\t\tele=stack[stack.length-1];\r\n\t\t\t\tprep=ele.pre;\r\n\t\t\t\tvar flag=ele.value=='Math.pow'&&elem.value=='Math.pow';\r\n\t\t\t\tif(pre>prep)stack.push(elem);\r\n\t\t\t\telse {\r\n\t\t\t\t\twhile(prep>=pre&&!flag||flag&&pre<prep){\r\n\t\t\t\t\t\tpopped=stack.pop();\r\n\t\t\t\t\t\tele=stack[stack.length-1];\r\n\t\t\t\t\t\tpost.push(popped);\r\n\t\t\t\t\t\tprep=ele.pre;\r\n\t\t\t\t\t\tflag=elem.value=='Math.pow'&&ele.value=='Math.pow';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstack.push(elem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new Mexp(post);\r\n\t};\r\n    module.exports=Mexp;","var Mexp=require('./postfix.js');\r\nMexp.prototype.postfixEval = function (UserDefined) {\r\n\t'use strict';\r\n\tUserDefined=UserDefined||{};\r\n\tUserDefined.PI=Math.PI;\r\n\tUserDefined.E=Math.E;\r\n\tvar stack=[],pop1,pop2,pop3;\r\n\tvar disp=[];\r\n\tvar temp='';\r\n\tvar arr=this.value;\r\n\tvar bool=(typeof UserDefined.n!==\"undefined\");\r\n\tfor(var i=0;i<arr.length;i++){\r\n\t\tif(arr[i].type===1){\r\n\t\t\tstack.push({value:arr[i].value,type:1});\r\n\t\t}\r\n\t\telse if(arr[i].type===3){\r\n\t\t\tstack.push({value:UserDefined[arr[i].value],type:1});\r\n\t\t}\r\n\t\telse if(arr[i].type===0){\r\n\t\t\tif(typeof stack[stack.length-1].type===\"undefined\"){\r\n\t\t\t\tstack[stack.length-1].value.push(arr[i]);\r\n\t\t\t}\r\n\t\t\telse stack[stack.length-1].value=arr[i].value(stack[stack.length-1].value);\r\n\t\t}\r\n\t\telse if(arr[i].type===7){\r\n\t\t\tif(typeof stack[stack.length-1].type===\"undefined\"){\r\n\t\t\t\tstack[stack.length-1].value.push(arr[i]);\r\n\t\t\t}\r\n\t\t\telse stack[stack.length-1].value=arr[i].value(stack[stack.length-1].value);\r\n\t\t}\r\n\t\telse if(arr[i].type===8){\r\n\t\t\tpop1=stack.pop();\r\n\t\t\tpop2=stack.pop();\r\n\t\t\tstack.push({type:1,value:arr[i].value(pop2.value,pop1.value)});\r\n\t\t}\r\n\t\telse if(arr[i].type===10){\r\n\t\t\tpop1=stack.pop();\r\n\t\t\tpop2=stack.pop();\r\n\t\t\tif(typeof pop2.type===\"undefined\"){\r\n\t\t\t\tpop2.value=pop2.concat(pop1);\r\n\t\t\t\tpop2.value.push(arr[i]);\r\n\t\t\t\tstack.push(pop2);\r\n\t\t\t}\r\n\t\t\telse if (typeof pop1.type===\"undefined\") {\r\n\t\t\t\tpop1.unshift(pop2);\r\n\t\t\t\tpop1.push(arr[i]);\r\n\t\t\t\tstack.push(pop1);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tstack.push({type:1,value:arr[i].value(pop2.value,pop1.value)});\r\n            }\r\n\t\t}\r\n\t\telse if(arr[i].type===2||arr[i].type===9){\r\n\t\t\tpop1=stack.pop();\r\n\t\t\tpop2=stack.pop();\r\n\t\t\tif(typeof pop2.type===\"undefined\"){\r\n                console.log(pop2);\r\n\t\t\t\tpop2=pop2.concat(pop1);\r\n\t\t\t\tpop2.push(arr[i]);\r\n\t\t\t\tstack.push(pop2);\r\n\t\t\t}\r\n\t\t\telse if (typeof pop1.type===\"undefined\") {\r\n\t\t\t\tpop1.unshift(pop2);\r\n\t\t\t\tpop1.push(arr[i]);\r\n\t\t\t\tstack.push(pop1);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tstack.push({type:1,value:arr[i].value(pop2.value,pop1.value)});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(arr[i].type===12){\r\n\t\t\tpop1=stack.pop();\r\n\t\t\tif (typeof pop1.type!==\"undefined\") {\r\n\t\t\t\tpop1=[pop1];\r\n\t\t\t}\r\n\t\t\tpop2=stack.pop();\r\n\t\t\tpop3=stack.pop();\r\n\t\t\tstack.push({type:1,value:arr[i].value(pop3.value,pop2.value,new Mexp(pop1))});\r\n\t\t}\r\n\t\telse if(arr[i].type===13){\r\n\t\t\tif(bool){\r\n\t\t\t\tstack.push({value:UserDefined[arr[i].value],type:3});\r\n\t\t\t}\r\n\t\t\telse stack.push([arr[i]]);\r\n\t\t}\r\n\t}\r\n\tif (stack.length>1) {\r\n\t\tthrow(new Mexp.exception(\"Uncaught Syntax error\"));\r\n\t}\r\n\treturn stack[0].value>1000000000000000?\"Infinity\":parseFloat(stack[0].value.toFixed(15));\r\n};\r\nMexp.eval=function(str,tokens,obj){\r\n\tif (typeof tokens===\"undefined\") {\r\n\t\treturn this.lex(str).toPostfix().postfixEval();\r\n\t}\r\n\telse if (typeof obj===\"undefined\") {\r\n\t\tif (typeof tokens.length!==\"undefined\") \r\n\t\t\treturn this.lex(str,tokens).toPostfix().postfixEval();\r\n\t\telse\r\n\t\t\treturn this.lex(str).toPostfix().postfixEval(tokens);\r\n\t}\r\n\telse\r\n\t\treturn this.lex(str,tokens).toPostfix().postfixEval(obj);\r\n};\r\nmodule.exports=Mexp;","var Mexp=require('./postfix_evaluator.js');\r\nMexp.prototype.formulaEval = function () {\r\n\t\"use strict\";\r\n\tvar stack=[],pop1,pop2,pop3;\r\n\tvar disp=[];\r\n\tvar temp='';\r\n\tvar arr=this.value;\r\n\tfor(var i=0;i<arr.length;i++){\r\n\t\tif(arr[i].type===1||arr[i].type===3){\r\n\t\t\tdisp.push({value:arr[i].type===3?arr[i].show:arr[i].value,type:1});\r\n\t\t}\r\n\t\telse if(arr[i].type===13){\r\n\t\t\tdisp.push({value:arr[i].show,type:1});\r\n\t\t}\r\n\t\telse if(arr[i].type===0){\r\n\t\t\tdisp[disp.length-1]={value:arr[i].show+(arr[i].show!=\"-\"?\"(\":\"\")+disp[disp.length-1].value+(arr[i].show!=\"-\"?\")\":\"\"),type:0};\r\n\t\t}\r\n\t\telse if(arr[i].type===7){\r\n\t\t\tdisp[disp.length-1]={value:(disp[disp.length-1].type!=1?\"(\":\"\")+disp[disp.length-1].value+(disp[disp.length-1].type!=1?\")\":\"\")+arr[i].show,type:7};\r\n\t\t}\r\n\t\telse if(arr[i].type===10){\r\n\t\t\tpop1=disp.pop();\r\n\t\t\tpop2=disp.pop();\r\n\t\t\tif(arr[i].show==='P'||arr[i].show==='C')disp.push({value:\"<sup>\"+pop2.value+\"</sup>\"+arr[i].show+\"<sub>\"+pop1.value+\"</sub>\",type:10});\r\n\t\t\telse disp.push({value:(pop2.type!=1?\"(\":\"\")+pop2.value+(pop2.type!=1?\")\":\"\")+\"<sup>\"+pop1.value+\"</sup>\",type:1});\r\n\t\t}\r\n\t\telse if(arr[i].type===2||arr[i].type===9){\r\n\t\t\tpop1=disp.pop();\r\n\t\t\tpop2=disp.pop();\r\n\t\t\tdisp.push({value:(pop2.type!=1?\"(\":\"\")+pop2.value+(pop2.type!=1?\")\":\"\")+arr[i].show+(pop1.type!=1?\"(\":\"\")+pop1.value+(pop1.type!=1?\")\":\"\"),type:arr[i].type});\r\n\t\t}\r\n\t\telse if(arr[i].type===12){\r\n\t\t\tpop1=disp.pop();\r\n\t\t\tpop2=disp.pop();\r\n\t\t\tpop3=disp.pop();\r\n\t\t\tdisp.push({value:arr[i].show+\"(\"+pop3.value+\",\"+pop2.value+\",\"+pop1.value+\")\",type:12});\r\n\t\t}\r\n\t}\r\n\treturn disp[0].value;\r\n};\r\nmodule.exports=Mexp;","import mexp from 'math-expression-evaluator'\n\nlet currentValue = '';\nlet register = [];\nlet history = [];\nlet result = '';\n\nclass CalculatorEngine {\n  \n  constructor(){\n    history = [],\n    register = [];\n    currentValue = '';\n    result = '';\n  }\n\n  inputDigit(digit) {\n    if (isNaN(digit)) {\n      throw Error('Only numeric input is allowed');\n    }\n\n    if (result !== '') {\n      result = '';\n      currentValue = '';      \n    }\n\n    currentValue += digit;\n  }\n\n  inputDecimal() {\n    if (result !== '') {\n      result = '';\n      currentValue = '';     \n    }\n\n    if (currentValue.indexOf('.') >= 0) {\n      return;\n    }\n\n    if (currentValue === '') {\n      currentValue += '0.';\n    } else {\n      currentValue += '.';\n    }\n  }\n\n  clear() {\n    currentValue = '';\n    register = [];\n    result = '';\n  }\n\n  clearAll() {\n    currentValue = '';\n    register = [];\n    result = '';\n    history = [];\n  }\n\n  clearHistory() {\n    history = [];\n  }\n\n  delete() {\n    if (currentValue === '') {\n      return;\n    }\n\n    currentValue = currentValue.substring(0, currentValue.length - 1);\n  }\n\n  add() {\n    if (currentValue === '') {\n      return;\n    }\n\n    register.push(currentValue);\n    register.push('+');\n\n    currentValue = '';\n  }\n\n  subtract() {\n    if (currentValue === '') {\n      return;\n    }\n\n    register.push(currentValue);\n    register.push('-');\n\n    currentValue = '';\n  }\n\n  multiply() {\n    if (currentValue === '') {\n      return;\n    }\n\n    register.push(currentValue);\n    register.push('*');\n\n    currentValue = '';\n  }\n\n  divide() {\n    if (currentValue === '') {\n      return;\n    }\n\n    register.push(currentValue);\n    register.push('/');\n    \n    currentValue = '';\n  }\n\n  equals() {\n    if (currentValue === '') {\n      return;\n    }\n\n    register.push(currentValue);\n\n    const expression = register.join(' ');\n\n    result = mexp.eval(expression);\n    currentValue = result.toString();\n    history.splice(0, 0, { expression, result });\n    register = [];\n  }\n\n  loadHistory(index) {\n    currentValue = history[index].result.toString();\n  }\n\n  toggleSign() {\n    currentValue = (parseFloat(currentValue) * (-1)).toString();\n  }\n\n  getValue() {\n    return currentValue;\n  }\n\n  getExpression() {\n    return register.join(' ');\n  }\n\n  getHistory() {    \n    return history;\n  }\n\n  getResult() {\n    return result;\n  }\n}\n\nexport default CalculatorEngine;","import {h} from 'composi';\n\nconst ControlPanel = (props) => (\n  <div className=\"control-panel my-2 mx-1\">\n    <button className=\"btn btn-block text-secondary\" disabled={!props.anyHistory} onClick={props.onToggleHistory}>\n      <i className=\"fa fa-history fa-2x\"></i>\n    </button>\n  </div>\n);\n\n\nexport default ControlPanel;","// PACKAGE REFERENCES\nimport { h, Component } from 'composi';\n\n\n// PROJECT REFERENCES\nimport Display from './display';\nimport Keypad from './keypad';\nimport History from './history';\nimport CalculatorEngine from './calculatorEngine';\nimport ControlPanel from './controlPanel';\n\n\n// INITIALIZATION\nconst calculator = new CalculatorEngine();\n\n\nexport default class Calculator extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expression: '',\n      value: '',\n      history: [],\n      showHistory: false\n    };\n\n    this.handleOnDigit = this.handleOnDigit.bind(this);\n    this.handleOnClear = this.handleOnClear.bind(this);\n    this.handleOnClearAll = this.handleOnClearAll.bind(this);\n    this.handleOnDelete = this.handleOnDelete.bind(this);\n    this.handleOnAdd = this.handleOnAdd.bind(this);\n    this.handleOnSubtract = this.handleOnSubtract.bind(this);\n    this.handleOnDivide = this.handleOnDivide.bind(this);\n    this.handleOnMultiply = this.handleOnMultiply.bind(this);\n    this.handleOnDecimalPoint = this.handleOnDecimalPoint.bind(this);\n    this.handleOnEquals = this.handleOnEquals.bind(this);\n    this.handleOnToggleSign = this.handleOnToggleSign.bind(this);\n    this.handleOnHistorySelected = this.handleOnHistorySelected.bind(this);\n    this.handleOnToggleHistory = this.handleOnToggleHistory.bind(this);\n    this.handleOnClearHistory = this.handleOnClearHistory.bind(this);\n  }\n\n  \n  handleOnAdd() {\n    calculator.add();\n\n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnClear() {\n    calculator.clear();\n\n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnClearAll() {\n    calculator.clearAll();\n    \n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      history: calculator.getHistory(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n\n  handleOnClearHistory() {\n    calculator.clearHistory();\n\n    this.setState(() => ({ \n      history: calculator.getHistory(),\n      showHistory: false\n    }));\n  }\n\n  \n  handleOnDecimalPoint() {\n    calculator.inputDecimal();\n\n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnDelete() {\n    calculator.delete();\n\n    this.setState(() => ({\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnDigit(number) {\n    calculator.inputDigit(number);\n\n    this.setState(() => ({\n      value: calculator.getValue()\n    }));\n  }\n\n  \n  handleOnDivide() {\n    calculator.divide();\n    \n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnEquals() {\n    calculator.equals();\n\n    console.log(calculator.getHistory());\n\n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getResult().toString(),\n      history: calculator.getHistory()\n    }));\n  }\n\n  \n  handleOnHistorySelected(index) {\n    calculator.loadHistory(index);\n    \n    this.setState(prevState => ({\n      expression: prevState.history[index].expression,\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnMultiply() {\n    calculator.multiply();\n    \n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  handleOnSubtract() {\n    calculator.subtract();\n    \n    this.setState(() => ({\n      expression: calculator.getExpression(),\n      value: calculator.getValue().toString()\n    }));\n  }\n\n\n  handleOnToggleHistory() {\n    this.setState(prevState => ({ showHistory: !prevState.showHistory }));\n  }\n\n  \n  handleOnToggleSign() {\n    calculator.toggleSign();\n\n    this.setState(() => ({\n      value: calculator.getValue().toString()\n    }));\n  }\n\n  \n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"calculator col-md-5 mx-auto\">\n          <Display value={this.state.value} expression={this.state.expression} />\n\n          <ControlPanel anyHistory={this.state.history.length > 0} \n            onToggleHistory={this.handleOnToggleHistory}/>\n\n          {\n            !this.state.showHistory && <Keypad onDigit={this.handleOnDigit}\n            onAdd={this.handleOnAdd}\n            onSubtract={this.handleOnSubtract}\n            onDivide={this.handleOnDivide}\n            onMultiply={this.handleOnMultiply}\n            onDecimalPoint={this.handleOnDecimalPoint}\n            onEquals={this.handleOnEquals}\n            onClear={this.handleOnClear}\n            onClearAll={this.handleOnClearAll}\n            onDelete={this.handleOnDelete}\n            onToggleSign={this.handleOnToggleSign} />\n          }\n\n          {\n            this.state.showHistory && <History history={this.state.history}\n              onClearHistory={this.handleOnClearHistory}\n              onSelected={this.handleOnHistorySelected} />\n          }\n        </div>\n      </div>\n    );\n  }\n}","import {h, Component} from 'composi'\nimport {title} from './components/title'\nimport Calculator from './components/calculator/calculator'\n\n// Set state on component.\n// Will cause component to render.\ntitle.state = 'Calculator'\n\nnew Calculator({\n  container: 'section'\n})\n"],"names":["h","type","props","args","node","children","length","Array","isArray","shift","map","push","item","mixin","obj1","obj2","result","i","patch","oldNode","newNode","element","container","diffAndPatch","svg","nextSibling","insertBefore","createElement","oldProps","keys","forEach","value","key","oldValue","setProps","len","oldLen","oldKeyed","oldElements","keyed","k","oldElement","childNodes","oldChild","oldKey","getKey","j","newChild","newKey","keyedNode","removeElement","reusableNode","nodeValue","data","document","body","name","style","test","toLowerCase","namespaceURI","setAttributeNS","setAttribute","removeAttribute","createTextNode","createElementNS","appendChild","child","removeChild","hasOwnProperty","p","defineProperty","rAF","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","setTimeout","dataStore","Date","getTime","Component","selector","root","render","state","this","querySelector","componentShouldUpdate","mounted","beforeCreateComponent","componentWillMount","componentWasCreated","componentDidMount","componentWillUpdate","componentDidUpdate","componentWillUnmount","position","call","setState","babelHelpers.typeof","__data","__render","vdom","elem","id","err","parentNode","testIfVNodesDiffer","JSON","stringify","removeEventListener","event","undefined","update","unmount","_this2","Element","prototype","closest","s","matches","ownerDocument","querySelectorAll","el","parentElement","title","message","className","Display","top","right","expression","Keypad","handleOnDigit","e","onDigit","target","onClick","onClearAll","onClear","onDelete","onDivide","onMultiply","onSubtract","onAdd","onToggleSign","onDecimalPoint","color","onEquals","History","history","onSelected","onClearHistory","Mexp","parsed","math","x","isDegree","Math","PI","acos","a","b","asin","atan","log","sqrt","n","r","pro","other","choice","fact","toRadian","cos","pow","E","floor","low","high","ex","Number","postfixEval","sum","sin","tan","sinha","cosha","exception","module","inc","arr","val","token","show","eva","P","C","cosh","acosh","div","tanh","atanh","mod","mul","sinh","asinh","add","sub","sigma","Pi","preced","0","1","2","3","4","5","6","7","8","9","10","11","12","13","type0","type1","type_1","empty","type_3","type6","newAr","match","str1","str2","f","addToken","tokens","temp","y","indexOf","lex","inp","str","pre","ptc","inpStr","pcounter","allowed","bracToClose","asterick","prevKey","obj","sec","slice","index","cToken","cType","cEv","cPre","cShow","pop","hasDec","changeSign","toPostfix","popped","prep","ele","post","stack","flag","UserDefined","pop1","pop2","pop3","bool","concat","unshift","parseFloat","toFixed","eval","formulaEval","disp","currentValue","register","ControlPanel","disabled","anyHistory","onToggleHistory","calculator","digit","isNaN","Error","substring","join","mexp","toString","splice","Calculator","_this","bind","handleOnClear","handleOnClearAll","handleOnDelete","handleOnAdd","handleOnSubtract","handleOnDivide","handleOnMultiply","handleOnDecimalPoint","handleOnEquals","handleOnToggleSign","handleOnHistorySelected","handleOnToggleHistory","handleOnClearHistory","getExpression","getValue","clear","clearAll","getHistory","clearHistory","inputDecimal","delete","number","inputDigit","divide","equals","getResult","loadHistory","prevState","multiply","subtract","showHistory","toggleSign"],"mappings":"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"}